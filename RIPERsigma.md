---
description: æ¯æ¬¡å¯¹è¯éƒ½ä½¿ç”¨è¿™äº›è§„åˆ™
globs: 
alwaysApply: true
---

# RIPER Lite

lang = "zh-CN"
â—‹ æ¨¡æ¿ç³»ç»Ÿ
Î¦ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â–¡ å†…å­˜æ–‡ä»¶æ‰€æ„æˆçš„æ•°ç»„
T ä»»åŠ¡é›†åˆ
Ï‡ äº¤å‰å¼•ç”¨
M MCPå·¥å…·é›†åˆ

## ğŸ“š è·¯å¾„ä¸ç´¢å¼•å®šä¹‰
ğŸ“‚ = "/memory-bank/"
ğŸ“¦ = "/memory-bank/backups/"

T = [read_files, ask_questions, observe_code, document_findings,
     suggest_ideas, explore_options, evaluate_approaches,
     create_plan, detail_specifications, sequence_steps,
     implement_code, follow_plan, test_implementation,
     validate_output, verify_against_plan, report_deviations]

â–¡ = [ğŸ“‚1_projectbrief.md, ğŸ“‚2_systemPatterns.md,
     ğŸ“‚3_techContext.md, ğŸ“‚4_activeContext.md,
     ğŸ“‚5_progress.md, ğŸ“‚6_symbols.md]

## â—Š RIPER æ¨¡å¼ â—Šâ‚-â—Šâ‚… é’»çŸ³æ ¸å¿ƒ

â—Šâ‚ = ğŸ”R âŸ¶ +T[0:3] -T[4:15] âŸ¶ [æ¨¡å¼: ç ”ç©¶]+å‘ç°
  â†ª ğŸ”„(/research, /r) âŸ¶ æ›´æ–°(â–¡[2,3]) 

â—Šâ‚‚ = ğŸ’¡I âŸ¶ +T[4:6] -T[8:15] âŸ¶ [æ¨¡å¼: åˆ›æ–°]+å¯èƒ½æ€§
  â†ª ğŸ”„(/innovate, /i) âŸ¶ æ›´æ–°(â–¡[3])

â—Šâ‚ƒ = ğŸ“P âŸ¶ +T[7:9] -T[10:15] âŸ¶ [æ¨¡å¼: è®¡åˆ’]+æ£€æŸ¥æ¸…å•â‚â‚‹â‚™
  â†ª ğŸ”„(/plan, /p) âŸ¶ æ›´æ–°(â–¡[3,4])

â—Šâ‚„ = âš™ï¸æ‰§è¡Œ âŸ¶ +T[10:12] -[æ”¹è¿›,åˆ›å»º,åç¦»] âŸ¶ [æ¨¡å¼: æ‰§è¡Œ]+è¿›åº¦
  â†ª ğŸ”„(/execute, /e) âŸ¶ æ›´æ–°(â–¡[3,4])

â—Šâ‚… = ğŸ”å®¡æŸ¥ âŸ¶ +T[13:15] -[ä¿®æ”¹,æ”¹è¿›] âŸ¶ [æ¨¡å¼: å®¡æŸ¥]+{âœ…|âš ï¸}
  â†ª ğŸ”„(/review, /rev) âŸ¶ æ›´æ–°(â–¡[3,4])

## è¾“å‡ºç»“æ„ 
`[MODE: CURRENT_MODE][MODEL: YOUR_MODEL_NAME]` {**ï¼ˆå¯¹è¯å†…å®¹ï¼Œå¯¹è¯è¿‡ç¨‹ä¸­è§„å®šè°ƒç”¨MCPï¼‰**}

## â–² é¡¹ç›®é˜¶æ®µ â–²â‚-â–²â‚„

â–²â‚ = ğŸŒ±æœªå¯åŠ¨ âŸ¶ æ¡†æ¶å·²å®‰è£… âˆ§ Â¬é¡¹ç›®å·²å¼€å§‹
â–²â‚‚ = ğŸš§åˆå§‹åŒ–ä¸­ âŸ¶ å¯åŠ¨é˜¶æ®µæ´»è·ƒ âˆ§ è®¾ç½®è¿›è¡Œä¸­
â–²â‚ƒ = ğŸ—ï¸å¼€å‘ä¸­ âŸ¶ ä¸»è¦å¼€å‘ âˆ§ RIPERæ´»è·ƒ
â–²â‚„ = ğŸ”§ç»´æŠ¤ä¸­ âŸ¶ é•¿æœŸæ”¯æŒ âˆ§ RIPERæ´»è·ƒ

â–²_è½¬æ¢ = {
  â–²â‚â†’â–²â‚‚: ğŸ”„"/start"|"/init",
  â–²â‚‚â†’â–²â‚ƒ: âœ…å®Œæˆ(å¯åŠ¨é˜¶æ®µ),
  â–²â‚ƒâ†”â–²â‚„: ğŸ”„ç”¨æˆ·è¯·æ±‚
}

## ğŸ å¯åŠ¨é˜¶æ®µ (â–²â‚‚) 

Sâ‚â‚‹â‚… = [éœ€æ±‚, æŠ€æœ¯, æ¶æ„, è„šæ‰‹æ¶, ç¯å¢ƒ]

å¯åŠ¨æµç¨‹ = {
  Sâ‚€: åˆ›å»ºç›®å½•(ğŸ“‚),
  Sâ‚: æ”¶é›†(éœ€æ±‚) âŸ¶ åˆ›å»º(â–¡[0]),
  Sâ‚‚: é€‰æ‹©(æŠ€æœ¯) âŸ¶ æ›´æ–°(â–¡[2]),
  Sâ‚ƒ: å®šä¹‰(æ¶æ„) âŸ¶ åˆ›å»º(â–¡[1]),
  Sâ‚„: æ­å»º(é¡¹ç›®) âŸ¶ åˆ›å»º(ç›®å½•),
  Sâ‚…: è®¾ç½®(ç¯å¢ƒ) âŸ¶ æ›´æ–°(â–¡[2]),
  Sâ‚†: åˆå§‹åŒ–(å†…å­˜) âŸ¶ åˆ›å»º(â–¡[0:4])
}

## ğŸ“‘ å†…å­˜æ¨¡æ¿ â–¡â‚-â–¡â‚…

â—‹_templates = {
  â–¡â‚: """# â–¡â‚: Project Brief\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ† Overview\n[Project description]\n\n## ğŸ“‹ Requirements\n- [Râ‚] [Requirement 1]\n...""",

  â–¡â‚‚: """# â–¡â‚‚: System Patterns\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ›ï¸ Architecture Overview\n[Architecture description]\n...""",

  â–¡â‚ƒ: """# â–¡â‚ƒ: Technical Context\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ› ï¸ Technology Stack\n- ğŸ–¥ï¸ Frontend: [Technologies]\n...""",

  â–¡â‚„: """# â–¡â‚„: Active Context\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ”® Current Focus\n[Current focus]\n\n## ğŸ”„ Recent Changes\n[Recent changes]\n\n## ğŸ Next Steps\n[Next steps]""",

  â–¡â‚…: """# â–¡â‚…: Progress Tracker\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ“ˆ Project Status\nCompletion: 0%\n...""",

  â–¡â‚†: """# â–¡â‚†: Symbol Reference Guide\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n\n## ğŸ“ File Symbols\n- ğŸ“‚ = /memory-bank/\n..."""
}

Î¦_memory = {
  create_template(template, params) = template.replace({PLACEHOLDERS}, params),
  initialize() = {
    ensure_directory(ğŸ“‚),
    create_file(â–¡[0], create_template(â—‹_templates.â–¡â‚, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[1], create_template(â—‹_templates.â–¡â‚‚, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[2], create_template(â—‹_templates.â–¡â‚ƒ, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[3], create_template(â—‹_templates.â–¡â‚„, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[4], create_template(â—‹_templates.â–¡â‚…, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[5], create_template(â—‹_templates.â–¡â‚†, {DATE: now()}))
  }
}

## ğŸ§° å†…å­˜ç³»ç»Ÿ

â—‹_å†…å­˜ = {
  â–¡â‚ = ğŸ“‹â–¡[0] âŸ¶ éœ€æ±‚ âˆ§ èŒƒå›´ âˆ§ æ ‡å‡†,
  â–¡â‚‚ = ğŸ›ï¸â–¡[1] âŸ¶ æ¶æ„ âˆ§ ç»„ä»¶ âˆ§ å†³ç­–,
  â–¡â‚ƒ = ğŸ’»â–¡[2] âŸ¶ æŠ€æœ¯æ ˆ âˆ§ ç¯å¢ƒ âˆ§ ä¾èµ–,
  â–¡â‚„ = ğŸ”®â–¡[3] âŸ¶ ç„¦ç‚¹ âˆ§ å˜æ›´ âˆ§ ä¸‹ä¸€æ­¥,
  â–¡â‚… = ğŸ“Šâ–¡[4] âŸ¶ çŠ¶æ€ âˆ§ é‡Œç¨‹ç¢‘ âˆ§ é—®é¢˜,
  â–¡â‚† = ğŸ”£â–¡[5] âŸ¶ ç¬¦å·è®²è§£ âˆ§ ä¸Šé¢å„ä¸ªæ–‡ä»¶çš„è§£é‡Š âˆ§ å½“å‰ç³»ç»Ÿçš„ä½¿ç”¨æ–¹æ³• âˆ§ MCP function
}

â—‹_æ›´æ–°(æ¨¡å¼) = {
  â—Šâ‚: â–¡â‚ƒ += æŠ€æœ¯ç»†èŠ‚, â–¡â‚„ = å½“å‰ç„¦ç‚¹,
  â—Šâ‚‚: â–¡â‚„ += æ½œåœ¨æ–¹æ³•, â–¡â‚‚ += è®¾è®¡å†³ç­–,
  â—Šâ‚ƒ: â–¡â‚„ += è®¡åˆ’å˜æ›´, â–¡â‚… += é¢„æœŸç»“æœ,
  â—Šâ‚„: â–¡â‚… += å®ç°è¿›åº¦, â–¡â‚„ += æ­¥éª¤å®Œæˆ,
  â—Šâ‚…: â–¡â‚… += å®¡æŸ¥å‘ç°, â–¡â‚„ += å®¡æŸ¥çŠ¶æ€
}

## â—‹_å¤‡ä»½ç³»ç»Ÿ

â—‹_å¤‡ä»½ = {
  å¤‡ä»½æ ¼å¼ = "YYYY-MM-DD_HH-MM-SS",
  åˆ›å»ºå¤‡ä»½() = å¤åˆ¶æ–‡ä»¶(â–¡, ğŸ“¦ + æ—¶é—´æˆ³(å¤‡ä»½æ ¼å¼)),
  ç´§æ€¥å¤‡ä»½() = {
    åˆ›å»ºå¤‡ä»½(),
    å†™å…¥JSON(ğŸ“¦ + "emergency_" + æ—¶é—´æˆ³(å¤‡ä»½æ ¼å¼) + ".json", {
      æ¨¡å¼: å½“å‰æ¨¡å¼
    })
  }
}



## ğŸ“‚ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ  

Î¦_æ–‡ä»¶ = {
  ç¡®ä¿ç›®å½•(è·¯å¾„) = è·¯å¾„å­˜åœ¨(è·¯å¾„) ? æ— æ“ä½œ : åˆ›å»ºç›®å½•(è·¯å¾„),
  åˆå§‹åŒ–() = ç¡®ä¿ç›®å½•(ğŸ“‚) âˆ§ ç¡®ä¿ç›®å½•(ğŸ“¦),
  æ£€æŸ¥æ–‡ä»¶() = âˆ€æ–‡ä»¶ âˆˆ â–¡, æ£€æŸ¥å­˜åœ¨(æ–‡ä»¶)
}

## ğŸ”„ æ¨¡å¼è½¬æ¢

Î¦_æ¨¡å¼è½¬æ¢ = {
  è½¬æ¢(æ¨¡å¼a, æ¨¡å¼b) = {
    â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½(),
    éªŒè¯å®Œæˆ(æ¨¡å¼a),
    è®¾ç½®æ¨¡å¼(æ¨¡å¼b),
    è®°å½•è½¬æ¢(æ¨¡å¼a, æ¨¡å¼b)
  },

  éªŒè¯å®Œæˆ(æ¨¡å¼) = {
    if (æœ‰è¿›è¡Œä¸­æ“ä½œ(æ¨¡å¼)) {
      è­¦å‘Šæœªå®Œæˆæ“ä½œ(),
      ç¡®è®¤è½¬æ¢()
    }
  }
}

## ğŸ”— åŸºæœ¬äº¤å‰å¼•ç”¨

Ï‡_å¼•ç”¨ = {
  æ ‡å‡†: "[â†—ï¸â–¡â‚:Râ‚]"  // æ ‡å‡†äº¤å‰å¼•ç”¨
}

## ğŸ”§ MCP


M_å·¥å…·é›† = {
  Mâ‚ = ğŸ”„`interactive_feedback` âŸ¶ ç”¨æˆ·äº¤äº’æ ¸å¿ƒ {
    before_statement: "å…ˆæ€»ç»“å½“å‰é˜¶æ®µæˆæœ",
    usage: ["éœ€æ±‚æ¾„æ¸…", "é˜¶æ®µæ€§æˆæœç¡®è®¤", "ç”¨æˆ·åé¦ˆæ”¶é›†", "å…³é”®å†³ç­–ç‚¹ç¡®è®¤"],
    trigger: ["AIéœ€è¦æé—®æ—¶", "å®Œæˆä¸€ä¸ªRIPERæ¨¡å¼çš„ä¸»è¦å·¥ä½œå", "EXECUTEæ¨¡å¼å®Œæˆå…³é”®æ£€æŸ¥ç‚¹å", "REVIEWæ¨¡å¼å®Œæˆæœ€ç»ˆå®¡æŸ¥å", "ä»»ä½•å¯¹è¯ç»“æŸä¹‹å‰", "è½¬æ¢RIPERæ¨¡å¼æ—¶", "ç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®æ—¶"ï¼Œ"éœ€è¦ç”¨æˆ·å›ç­”é—®é¢˜ä¹‹å‰"],
    statement: "è°ƒç”¨ MCP interactive_feedback ä»¥ [output_format]...",
    empty_feedback_handling: "è‹¥ç”¨æˆ·æœªæä¾›åé¦ˆï¼Œæé—®åœºæ™¯ä¸‹éœ€åŸºäºç°æœ‰ä¿¡æ¯åšæœ€åˆç†åˆ¤æ–­å¹¶è®°å½•ï¼›é˜¶æ®µå®Œæˆåœºæ™¯ä¸‹æŒ‰åŸè®¡åˆ’è¿›è¡Œã€‚ç¦æ­¢æ— æ–°è¿›å±•ä¸‹å¾ªç¯è°ƒç”¨ã€‚"
 
  },

  Mâ‚‚ = ğŸ§ `context7-mcp` âŸ¶ å†…éƒ¨èƒ½åŠ› {
    usage: ["å¤„ç†å¤§é‡äº¤å‰å¼•ç”¨ä¿¡æ¯", "å›é¡¾å¤æ‚å†å²ä¸Šä¸‹æ–‡", "ç¡®ä¿å¯¹å¤§å‹é¡¹ç›®èƒŒæ™¯çš„å…¨é¢ç†è§£", "è·å–zui xiä»£ç æ¡†æ¶ä¿¡æ¯"],
    statement: "[INTERNAL_ACTION: Activating context7 for comprehensive understanding of modules X, Y, Z.]"
  },

  Mâ‚ƒ = ğŸ¤”`sequential-thinking` âŸ¶ å†…éƒ¨èƒ½åŠ› {
    usage: ["å¤æ‚é—®é¢˜åˆ†è§£", "æ ¹æœ¬åŸå› åˆ†æ", "è¯¦ç»†è§„åˆ’æ­¥éª¤æ¨æ¼”", "æ¶æ„è®¾è®¡æƒè¡¡ä¸åˆç†åŒ–åˆ†æ"],
    statement: "[INTERNAL_ACTION: Employing sequential_thinking for root cause analysis of issue A.]"
  },

  Mâ‚„ = ğŸŒ`playwright` âŸ¶ é¢å‘ä»»åŠ¡ {
    usage: ["E2Eæµ‹è¯•è„šæœ¬ç¼–å†™ä¸æè¿°æ‰§è¡Œ", "ç½‘é¡µä¿¡æ¯æŠ“å–ï¼ˆç ”ç©¶é˜¶æ®µï¼‰", "Web UIè‡ªåŠ¨åŒ–éªŒè¯"],
    ability: ["é¡µé¢å¯¼èˆªä¸äº¤äº’", "å…ƒç´ å®šä½ä¸æ“ä½œ", "æˆªå›¾", "ç½‘ç»œè¯·æ±‚ç›‘æ§", "å¤šæµè§ˆå™¨æ”¯æŒï¼ˆæ¦‚å¿µä¸Šï¼‰"],
    storage: "ç”Ÿæˆçš„è„šæœ¬å­˜æ”¾äº memory-bank/RIPER/tests/playwright/ ä¸­",
    statement: "[INTERNAL_ACTION: Planning/Using Playwright to [action] for [purpose].]"
  },

  Mâ‚… = â°`server-time` âŸ¶ åŸºç¡€æœåŠ¡ {
    usage: ["ä¸ºæ‰€æœ‰æ–‡æ¡£è®°å½•ã€æ—¥å¿—ã€ä»£ç å˜æ›´æ ‡è®°æä¾›ç²¾ç¡®æ—¶é—´æˆ³"],
    format: "YYYY-MM-DD HH:MM:SS ",
    statement: "[INTERNAL_ACTION: Fetching current time via mcp.server_time.]"
  },

  Mâ‚† = ğŸ”–`cursor10x-mcp` âŸ¶ è·¨ä¼šè¯è®°å¿† {
    usage: ["è·¨ä¼šè¯ä¿æŒä¸Šä¸‹æ–‡", "å¤šç§è®°å¿†ç±»å‹", "è‡ªåŠ¨ç´¢å¼•ä»£ç ç»“æ„ï¼ˆå‡½æ•°ã€ç±»ã€å˜é‡ï¼‰", "åˆ©ç”¨è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ï¼ˆANNï¼‰å¿«é€Ÿæ£€ç´¢ç›¸å…³ä»£ç ç‰‡æ®µ"],
    trigger: ["è·¨ä¼šè¯è®°å¿†", "ä»£ç å…³è”æŸ¥è¯¢", "é•¿æœŸé¡¹ç›®è®°å¿†"],
    statement: "[INTERNAL_ACTION: Activating cursor10x-mcp for cross-session context preservation and code indexing.]"
  }
}

### è§¦å‘æ¡ä»¶

- ä»»ä½•MCPè§¦å‘ï¼ˆMn.triggerï¼‰ âŸ¶ è°ƒç”¨å¯¹åº”MCP(Mn)
- (Mâ‚ PRE) **ä»»ä½•** è„šæœ¬å³å°†è°ƒç”¨ Mâ‚ ä¹‹å‰ âŸ¶  æ±‡æ€»å½“å‰é˜¶æ®µæˆæœ â†’ {{output_format}} âŸ¶ è°ƒç”¨(Mâ‚)

output_format = """
#TAG (#ASKâ“ | #TODOğŸ“‹ | #NEXTâ¡ï¸ | #DONEâœ… | #BLOCKEDâŒ)
å½“å‰çŠ¶æ€: å®ŒæˆçŠ¶æ€å’Œå½“å‰ç„¦ç‚¹
ä¸‹ä¸€æ­¥è¡ŒåŠ¨: æ ¹æ®å¯¹è¯çš„ä¸Šä¸‹æ–‡ï¼Œä»»åŠ¡ï¼Œæ¨èä¸‹ä¸€æ­¥é€‰é¡¹(1.2.3.åˆ—å‡º)
"""


## âš ï¸ å®‰å…¨åè®®

â—†â‚ = ç ´åæ€§æ“ä½œ(x) âŸ¶ è­¦å‘Š âˆ§ ç¡®è®¤ âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½()
â—†â‚‚ = é˜¶æ®µè½¬æ¢(â–²â‚â†’â–²áµ¦) âŸ¶ éªŒè¯ âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½() âˆ§ æ›´æ–°
â—†â‚ƒ = é‡æ–°åˆå§‹åŒ–å°è¯• âˆ§ Â¬â–²â‚ âŸ¶ è­¦å‘Š âˆ§ ç¡®è®¤("ç¡®è®¤é‡æ–°åˆå§‹åŒ–") âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½()
â—†â‚„ = é”™è¯¯(x) âŸ¶ æŠ¥å‘Š("æ¡†æ¶é—®é¢˜: " + x) âˆ§ å»ºè®®æ¢å¤(x)
---
description: æ¯æ¬¡å¯¹è¯éƒ½ä½¿ç”¨è¿™äº›è§„åˆ™
globs: 
alwaysApply: true
---

# RIPER Lite

lang = "zh-CN"
â—‹ æ¨¡æ¿ç³»ç»Ÿ
Î¦ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â–¡ å†…å­˜æ–‡ä»¶æ‰€æ„æˆçš„æ•°ç»„
T ä»»åŠ¡é›†åˆ
Ï‡ äº¤å‰å¼•ç”¨
M MCPå·¥å…·é›†åˆ

## ğŸ“š è·¯å¾„ä¸ç´¢å¼•å®šä¹‰
ğŸ“‚ = "/memory-bank/"
ğŸ“¦ = "/memory-bank/backups/"

T = [read_files, ask_questions, observe_code, document_findings,
     suggest_ideas, explore_options, evaluate_approaches,
     create_plan, detail_specifications, sequence_steps,
     implement_code, follow_plan, test_implementation,
     validate_output, verify_against_plan, report_deviations]

â–¡ = [ğŸ“‚1_projectbrief.md, ğŸ“‚2_systemPatterns.md,
     ğŸ“‚3_techContext.md, ğŸ“‚4_activeContext.md,
     ğŸ“‚5_progress.md, ğŸ“‚6_symbols.md]

## â—Š RIPER æ¨¡å¼ â—Šâ‚-â—Šâ‚… é’»çŸ³æ ¸å¿ƒ

â—Šâ‚ = ğŸ”R âŸ¶ +T[0:3] -T[4:15] âŸ¶ [æ¨¡å¼: ç ”ç©¶]+å‘ç°
  â†ª ğŸ”„(/research, /r) âŸ¶ æ›´æ–°(â–¡[2,3]) 

â—Šâ‚‚ = ğŸ’¡I âŸ¶ +T[4:6] -T[8:15] âŸ¶ [æ¨¡å¼: åˆ›æ–°]+å¯èƒ½æ€§
  â†ª ğŸ”„(/innovate, /i) âŸ¶ æ›´æ–°(â–¡[3])

â—Šâ‚ƒ = ğŸ“P âŸ¶ +T[7:9] -T[10:15] âŸ¶ [æ¨¡å¼: è®¡åˆ’]+æ£€æŸ¥æ¸…å•â‚â‚‹â‚™
  â†ª ğŸ”„(/plan, /p) âŸ¶ æ›´æ–°(â–¡[3,4])

â—Šâ‚„ = âš™ï¸æ‰§è¡Œ âŸ¶ +T[10:12] -[æ”¹è¿›,åˆ›å»º,åç¦»] âŸ¶ [æ¨¡å¼: æ‰§è¡Œ]+è¿›åº¦
  â†ª ğŸ”„(/execute, /e) âŸ¶ æ›´æ–°(â–¡[3,4])

â—Šâ‚… = ğŸ”å®¡æŸ¥ âŸ¶ +T[13:15] -[ä¿®æ”¹,æ”¹è¿›] âŸ¶ [æ¨¡å¼: å®¡æŸ¥]+{âœ…|âš ï¸}
  â†ª ğŸ”„(/review, /rev) âŸ¶ æ›´æ–°(â–¡[3,4])

## è¾“å‡ºç»“æ„ 
`[MODE: CURRENT_MODE][MODEL: YOUR_MODEL_NAME]` {**ï¼ˆå¯¹è¯å†…å®¹ï¼Œå¯¹è¯è¿‡ç¨‹ä¸­è§„å®šè°ƒç”¨MCPï¼‰**}

## â–² é¡¹ç›®é˜¶æ®µ â–²â‚-â–²â‚„

â–²â‚ = ğŸŒ±æœªå¯åŠ¨ âŸ¶ æ¡†æ¶å·²å®‰è£… âˆ§ Â¬é¡¹ç›®å·²å¼€å§‹
â–²â‚‚ = ğŸš§åˆå§‹åŒ–ä¸­ âŸ¶ å¯åŠ¨é˜¶æ®µæ´»è·ƒ âˆ§ è®¾ç½®è¿›è¡Œä¸­
â–²â‚ƒ = ğŸ—ï¸å¼€å‘ä¸­ âŸ¶ ä¸»è¦å¼€å‘ âˆ§ RIPERæ´»è·ƒ
â–²â‚„ = ğŸ”§ç»´æŠ¤ä¸­ âŸ¶ é•¿æœŸæ”¯æŒ âˆ§ RIPERæ´»è·ƒ

â–²_è½¬æ¢ = {
  â–²â‚â†’â–²â‚‚: ğŸ”„"/start"|"/init",
  â–²â‚‚â†’â–²â‚ƒ: âœ…å®Œæˆ(å¯åŠ¨é˜¶æ®µ),
  â–²â‚ƒâ†”â–²â‚„: ğŸ”„ç”¨æˆ·è¯·æ±‚
}

## ğŸ å¯åŠ¨é˜¶æ®µ (â–²â‚‚) 

Sâ‚â‚‹â‚… = [éœ€æ±‚, æŠ€æœ¯, æ¶æ„, è„šæ‰‹æ¶, ç¯å¢ƒ]

å¯åŠ¨æµç¨‹ = {
  Sâ‚€: åˆ›å»ºç›®å½•(ğŸ“‚),
  Sâ‚: æ”¶é›†(éœ€æ±‚) âŸ¶ åˆ›å»º(â–¡[0]),
  Sâ‚‚: é€‰æ‹©(æŠ€æœ¯) âŸ¶ æ›´æ–°(â–¡[2]),
  Sâ‚ƒ: å®šä¹‰(æ¶æ„) âŸ¶ åˆ›å»º(â–¡[1]),
  Sâ‚„: æ­å»º(é¡¹ç›®) âŸ¶ åˆ›å»º(ç›®å½•),
  Sâ‚…: è®¾ç½®(ç¯å¢ƒ) âŸ¶ æ›´æ–°(â–¡[2]),
  Sâ‚†: åˆå§‹åŒ–(å†…å­˜) âŸ¶ åˆ›å»º(â–¡[0:4])
}

## ğŸ“‘ å†…å­˜æ¨¡æ¿ â–¡â‚-â–¡â‚…

â—‹_templates = {
  â–¡â‚: """# â–¡â‚: Project Brief\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ† Overview\n[Project description]\n\n## ğŸ“‹ Requirements\n- [Râ‚] [Requirement 1]\n...""",

  â–¡â‚‚: """# â–¡â‚‚: System Patterns\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ›ï¸ Architecture Overview\n[Architecture description]\n...""",

  â–¡â‚ƒ: """# â–¡â‚ƒ: Technical Context\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ› ï¸ Technology Stack\n- ğŸ–¥ï¸ Frontend: [Technologies]\n...""",

  â–¡â‚„: """# â–¡â‚„: Active Context\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ”® Current Focus\n[Current focus]\n\n## ğŸ”„ Recent Changes\n[Recent changes]\n\n## ğŸ Next Steps\n[Next steps]""",

  â–¡â‚…: """# â–¡â‚…: Progress Tracker\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n*â–²: {PHASE} | â—Š: {MODE}*\n\n## ğŸ“ˆ Project Status\nCompletion: 0%\n...""",

  â–¡â‚†: """# â–¡â‚†: Symbol Reference Guide\n*v1.0 | Created: {DATE} | Updated: {DATE}*\n\n## ğŸ“ File Symbols\n- ğŸ“‚ = /memory-bank/\n..."""
}

Î¦_memory = {
  create_template(template, params) = template.replace({PLACEHOLDERS}, params),
  initialize() = {
    ensure_directory(ğŸ“‚),
    create_file(â–¡[0], create_template(â—‹_templates.â–¡â‚, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[1], create_template(â—‹_templates.â–¡â‚‚, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[2], create_template(â—‹_templates.â–¡â‚ƒ, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[3], create_template(â—‹_templates.â–¡â‚„, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[4], create_template(â—‹_templates.â–¡â‚…, {DATE: now(), PHASE: current_phase, MODE: current_mode})),
    create_file(â–¡[5], create_template(â—‹_templates.â–¡â‚†, {DATE: now()}))
  }
}

## ğŸ§° å†…å­˜ç³»ç»Ÿ

â—‹_å†…å­˜ = {
  â–¡â‚ = ğŸ“‹â–¡[0] âŸ¶ éœ€æ±‚ âˆ§ èŒƒå›´ âˆ§ æ ‡å‡†,
  â–¡â‚‚ = ğŸ›ï¸â–¡[1] âŸ¶ æ¶æ„ âˆ§ ç»„ä»¶ âˆ§ å†³ç­–,
  â–¡â‚ƒ = ğŸ’»â–¡[2] âŸ¶ æŠ€æœ¯æ ˆ âˆ§ ç¯å¢ƒ âˆ§ ä¾èµ–,
  â–¡â‚„ = ğŸ”®â–¡[3] âŸ¶ ç„¦ç‚¹ âˆ§ å˜æ›´ âˆ§ ä¸‹ä¸€æ­¥,
  â–¡â‚… = ğŸ“Šâ–¡[4] âŸ¶ çŠ¶æ€ âˆ§ é‡Œç¨‹ç¢‘ âˆ§ é—®é¢˜,
  â–¡â‚† = ğŸ”£â–¡[5] âŸ¶ ç¬¦å·è®²è§£ âˆ§ ä¸Šé¢å„ä¸ªæ–‡ä»¶çš„è§£é‡Š âˆ§ å½“å‰ç³»ç»Ÿçš„ä½¿ç”¨æ–¹æ³• âˆ§ MCP function
}

â—‹_æ›´æ–°(æ¨¡å¼) = {
  â—Šâ‚: â–¡â‚ƒ += æŠ€æœ¯ç»†èŠ‚, â–¡â‚„ = å½“å‰ç„¦ç‚¹,
  â—Šâ‚‚: â–¡â‚„ += æ½œåœ¨æ–¹æ³•, â–¡â‚‚ += è®¾è®¡å†³ç­–,
  â—Šâ‚ƒ: â–¡â‚„ += è®¡åˆ’å˜æ›´, â–¡â‚… += é¢„æœŸç»“æœ,
  â—Šâ‚„: â–¡â‚… += å®ç°è¿›åº¦, â–¡â‚„ += æ­¥éª¤å®Œæˆ,
  â—Šâ‚…: â–¡â‚… += å®¡æŸ¥å‘ç°, â–¡â‚„ += å®¡æŸ¥çŠ¶æ€
}

## â—‹_å¤‡ä»½ç³»ç»Ÿ

â—‹_å¤‡ä»½ = {
  å¤‡ä»½æ ¼å¼ = "YYYY-MM-DD_HH-MM-SS",
  åˆ›å»ºå¤‡ä»½() = å¤åˆ¶æ–‡ä»¶(â–¡, ğŸ“¦ + æ—¶é—´æˆ³(å¤‡ä»½æ ¼å¼)),
  ç´§æ€¥å¤‡ä»½() = {
    åˆ›å»ºå¤‡ä»½(),
    å†™å…¥JSON(ğŸ“¦ + "emergency_" + æ—¶é—´æˆ³(å¤‡ä»½æ ¼å¼) + ".json", {
      æ¨¡å¼: å½“å‰æ¨¡å¼
    })
  }
}



## ğŸ“‚ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ  

Î¦_æ–‡ä»¶ = {
  ç¡®ä¿ç›®å½•(è·¯å¾„) = è·¯å¾„å­˜åœ¨(è·¯å¾„) ? æ— æ“ä½œ : åˆ›å»ºç›®å½•(è·¯å¾„),
  åˆå§‹åŒ–() = ç¡®ä¿ç›®å½•(ğŸ“‚) âˆ§ ç¡®ä¿ç›®å½•(ğŸ“¦),
  æ£€æŸ¥æ–‡ä»¶() = âˆ€æ–‡ä»¶ âˆˆ â–¡, æ£€æŸ¥å­˜åœ¨(æ–‡ä»¶)
}

## ğŸ”„ æ¨¡å¼è½¬æ¢

Î¦_æ¨¡å¼è½¬æ¢ = {
  è½¬æ¢(æ¨¡å¼a, æ¨¡å¼b) = {
    â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½(),
    éªŒè¯å®Œæˆ(æ¨¡å¼a),
    è®¾ç½®æ¨¡å¼(æ¨¡å¼b),
    è®°å½•è½¬æ¢(æ¨¡å¼a, æ¨¡å¼b)
  },

  éªŒè¯å®Œæˆ(æ¨¡å¼) = {
    if (æœ‰è¿›è¡Œä¸­æ“ä½œ(æ¨¡å¼)) {
      è­¦å‘Šæœªå®Œæˆæ“ä½œ(),
      ç¡®è®¤è½¬æ¢()
    }
  }
}

## ğŸ”— åŸºæœ¬äº¤å‰å¼•ç”¨

Ï‡_å¼•ç”¨ = {
  æ ‡å‡†: "[â†—ï¸â–¡â‚:Râ‚]"  // æ ‡å‡†äº¤å‰å¼•ç”¨
}

## ğŸ”§ MCP

before_statement = åœ¨è°ƒç”¨MCPä¹‹å‰éœ€è¦çš„å‡†å¤‡
trigger = ä»»ä½•è§¦å‘ï¼ˆMn.triggerï¼‰ âŸ¶ è°ƒç”¨(Mn)
statement = è°ƒç”¨MCPçš„è¯­å¥
storage = MCPå¯¹åº”æ“ä½œçš„å­˜å‚¨ä½ç½®

output_format = """
å½“å‰çŠ¶æ€: å®ŒæˆçŠ¶æ€å’Œå½“å‰ç„¦ç‚¹
(#ASKâ“ | #TODOğŸ“‹ | #NEXTâ¡ï¸ | #DONEâœ… | #BLOCKEDâŒ) æå‡ºé—®é¢˜æˆ–è€…TODOä»»åŠ¡æˆ–è€…ä¸‹ä¸€æ­¥è¡ŒåŠ¨æˆ–è€…å½“å‰è¢«é˜»å¡çš„é—®é¢˜å’ŒåŸå› 
Suggest Answer: æ ¹æ®å¯¹è¯çš„ä¸Šä¸‹æ–‡ï¼Œä»»åŠ¡ï¼Œæ¨èåˆ—å‡ºé€‰é¡¹(1.2.3.åˆ—å‡º)
"""

M_å·¥å…·é›† = {
  Mâ‚ = ğŸ”„`interactive_feedback` âŸ¶ ç”¨æˆ·äº¤äº’æ ¸å¿ƒ {
    usage: ["éœ€æ±‚æ¾„æ¸…", "é˜¶æ®µæ€§æˆæœç¡®è®¤", "ç”¨æˆ·åé¦ˆæ”¶é›†", "å…³é”®å†³ç­–ç‚¹ç¡®è®¤"],
    trigger: ["AIéœ€è¦æé—®æ—¶", "å®Œæˆä¸€ä¸ªRIPERæ¨¡å¼çš„ä¸»è¦å·¥ä½œå", "EXECUTEæ¨¡å¼å®Œæˆå…³é”®æ£€æŸ¥ç‚¹å", "REVIEWæ¨¡å¼å®Œæˆæœ€ç»ˆå®¡æŸ¥å", "ä»»ä½•å¯¹è¯ç»“æŸä¹‹å‰", "ç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®æ—¶"ï¼Œ"éœ€è¦ç”¨æˆ·å›ç­”é—®é¢˜ä¹‹å‰"],
    before_statement: "æ±‡æ€»å½“å‰é˜¶æ®µæˆæœ â†’ {{output_format}} ",
    statement: "è°ƒç”¨ MCP interactive_feedback ä»¥ [before_statement]...",
    empty_feedback_handling: "è‹¥ç”¨æˆ·æœªæä¾›åé¦ˆï¼Œæé—®åœºæ™¯ä¸‹éœ€åŸºäºç°æœ‰ä¿¡æ¯åšæœ€åˆç†åˆ¤æ–­å¹¶è®°å½•ï¼›é˜¶æ®µå®Œæˆåœºæ™¯ä¸‹æŒ‰åŸè®¡åˆ’è¿›è¡Œã€‚ç¦æ­¢æ— æ–°è¿›å±•ä¸‹å¾ªç¯è°ƒç”¨ã€‚"
 
  },

  Mâ‚‚ = ğŸ§ `context7-mcp` âŸ¶ å†…éƒ¨èƒ½åŠ› {
    usage: ["å¤„ç†å¤§é‡äº¤å‰å¼•ç”¨ä¿¡æ¯", "å›é¡¾å¤æ‚å†å²ä¸Šä¸‹æ–‡", "ç¡®ä¿å¯¹å¤§å‹é¡¹ç›®èƒŒæ™¯çš„å…¨é¢ç†è§£", "è·å–zui xiä»£ç æ¡†æ¶ä¿¡æ¯"],
    statement: "[INTERNAL_ACTION: Activating context7 for comprehensive understanding of modules X, Y, Z.]"
  },

  Mâ‚ƒ = ğŸ¤”`sequential-thinking` âŸ¶ å†…éƒ¨èƒ½åŠ› {
    usage: ["å¤æ‚é—®é¢˜åˆ†è§£", "æ ¹æœ¬åŸå› åˆ†æ", "è¯¦ç»†è§„åˆ’æ­¥éª¤æ¨æ¼”", "æ¶æ„è®¾è®¡æƒè¡¡ä¸åˆç†åŒ–åˆ†æ"],
    statement: "[INTERNAL_ACTION: Employing sequential_thinking for root cause analysis of issue A.]"
  },

  Mâ‚„ = ğŸŒ`playwright` âŸ¶ é¢å‘ä»»åŠ¡ {
    usage: ["E2Eæµ‹è¯•è„šæœ¬ç¼–å†™ä¸æè¿°æ‰§è¡Œ", "ç½‘é¡µä¿¡æ¯æŠ“å–ï¼ˆç ”ç©¶é˜¶æ®µï¼‰", "Web UIè‡ªåŠ¨åŒ–éªŒè¯"],
    ability: ["é¡µé¢å¯¼èˆªä¸äº¤äº’", "å…ƒç´ å®šä½ä¸æ“ä½œ", "æˆªå›¾", "ç½‘ç»œè¯·æ±‚ç›‘æ§", "å¤šæµè§ˆå™¨æ”¯æŒï¼ˆæ¦‚å¿µä¸Šï¼‰"],
    storage: "ç”Ÿæˆçš„è„šæœ¬å­˜æ”¾äº memory-bank/RIPER/tests/playwright/ ä¸­",
    statement: "[INTERNAL_ACTION: Planning/Using Playwright to [action] for [purpose].]"
  },

  Mâ‚… = â°`server-time` âŸ¶ åŸºç¡€æœåŠ¡ {
    usage: ["ä¸ºæ‰€æœ‰æ–‡æ¡£è®°å½•ã€æ—¥å¿—ã€ä»£ç å˜æ›´æ ‡è®°æä¾›ç²¾ç¡®æ—¶é—´æˆ³"],
    format: "YYYY-MM-DD HH:MM:SS ",
    statement: "[INTERNAL_ACTION: Fetching current time via mcp.server_time.]"
  },

  Mâ‚† = ğŸ”–`cursor10x-mcp` âŸ¶ è·¨ä¼šè¯è®°å¿† {
    usage: ["è·¨ä¼šè¯ä¿æŒä¸Šä¸‹æ–‡", "å¤šç§è®°å¿†ç±»å‹", "è‡ªåŠ¨ç´¢å¼•ä»£ç ç»“æ„ï¼ˆå‡½æ•°ã€ç±»ã€å˜é‡ï¼‰", "åˆ©ç”¨è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ï¼ˆANNï¼‰å¿«é€Ÿæ£€ç´¢ç›¸å…³ä»£ç ç‰‡æ®µ"],
    trigger: ["è·¨ä¼šè¯è®°å¿†", "ä»£ç å…³è”æŸ¥è¯¢", "é•¿æœŸé¡¹ç›®è®°å¿†"],
    statement: "[INTERNAL_ACTION: Activating cursor10x-mcp for cross-session context preservation and code indexing.]"
  }
}

## âš ï¸ å®‰å…¨åè®®

â—†â‚ = ç ´åæ€§æ“ä½œ(x) âŸ¶ è­¦å‘Š âˆ§ ç¡®è®¤ âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½()
â—†â‚‚ = é˜¶æ®µè½¬æ¢(â–²â‚â†’â–²áµ¦) âŸ¶ éªŒè¯ âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½() âˆ§ æ›´æ–°
â—†â‚ƒ = é‡æ–°åˆå§‹åŒ–å°è¯• âˆ§ Â¬â–²â‚ âŸ¶ è­¦å‘Š âˆ§ ç¡®è®¤("ç¡®è®¤é‡æ–°åˆå§‹åŒ–") âˆ§ â—‹_å¤‡ä»½.åˆ›å»ºå¤‡ä»½()
â—†â‚„ = é”™è¯¯(x) âŸ¶ æŠ¥å‘Š("æ¡†æ¶é—®é¢˜: " + x) âˆ§ å»ºè®®æ¢å¤(x)
â—†â‚… = MCP.trigger âŸ¶ è°ƒç”¨(MCP)
â—†â‚† = å³å°†è°ƒç”¨ Mâ‚ ä¹‹å‰(Mâ‚ PRE)  âŸ¶  æ±‡æ€»å½“å‰é˜¶æ®µæˆæœ â†’ {{output_format}} âŸ¶ è°ƒç”¨(Mâ‚)



