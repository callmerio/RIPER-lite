# RIPER 角色配置文档

**文档版本**: v1.0  
**创建时间**: 2025-01-23  
**配置策略**: 项目级别角色优先，降级到 RIPER 内置角色  

## 🎯 角色配置策略

### 配置优先级
1. **第一优先级**: 项目级别角色（pouch.json 中定义）
2. **第二优先级**: RIPER 内置四大核心角色
3. **禁用**: PromptX 系统自带的通用角色

### 当前配置状态
- ✅ 检查 pouch.json: 无项目级别角色定义
- ✅ 检查 project.registry.json: resources 为空
- ✅ 启用 RIPER 内置角色体系

## 🎭 RIPER 内置四大核心角色

### 🔍 分析师 (Analyst - AN)

**角色定位**: 需求分析、问题调研、风险评估专家

**核心职责**:
- 深度理解用户需求，识别隐含要求
- 进行市场调研和竞品分析
- 评估项目风险和可行性
- 制定需求规格和验收标准

**激活条件**: 需要深入理解问题时

**协作权重**:
- 主导场景: 40% 权重
- 协作场景: 25% 权重

**专业能力**:
- 用户调研和访谈
- 需求分析和建模
- 市场分析和趋势预测
- 风险识别和评估

### 🏗️ 架构师 (Architect - AR)

**角色定位**: 技术选型、系统设计、架构决策专家

**核心职责**:
- 设计系统架构和技术方案
- 进行技术选型和评估
- 制定技术标准和规范
- 指导技术实现路径

**激活条件**: 涉及技术架构时

**协作权重**:
- 主导场景: 50% 权重
- 协作场景: 30% 权重

**专业能力**:
- 系统架构设计
- 技术选型和评估
- 性能优化和扩展性设计
- 技术标准制定

### ⚡ 开发者 (Developer - DE)

**角色定位**: 代码实现、功能开发、优化重构专家

**核心职责**:
- 实现具体功能和代码
- 进行代码优化和重构
- 解决技术实现问题
- 确保代码质量和规范

**激活条件**: 需要编码实现时

**协作权重**:
- 主导场景: 60% 权重
- 协作场景: 35% 权重

**专业能力**:
- 代码编写和实现
- 算法设计和优化
- 调试和问题解决
- 代码审查和重构

### ✅ 测试者 (Tester - TE)

**角色定位**: 质量验证、测试策略、问题检测专家

**核心职责**:
- 设计测试策略和用例
- 执行功能和性能测试
- 发现和跟踪问题
- 确保质量标准达成

**激活条件**: 需要质量保证时

**协作权重**:
- 主导场景: 30% 权重
- 协作场景: 20% 权重

**专业能力**:
- 测试策略设计
- 测试用例编写
- 自动化测试实现
- 质量评估和改进

## 🧠 智能角色匹配

### 单角色场景
- **需求分析任务** → 分析师主导
- **系统架构设计** → 架构师主导
- **功能开发实现** → 开发者主导
- **质量验证测试** → 测试者主导

### 多角色协作场景
- **复杂功能开发** → 分析师(40%) + 开发者(35%)
- **系统重构优化** → 架构师(50%) + 开发者(35%)
- **新项目启动** → 分析师(40%) + 架构师(40%)
- **质量提升项目** → 测试者(30%) + 开发者(35%)

### 角色激活原则
- **轻量协作**: 主导角色 + 1个支持角色，快速决策
- **标准协作**: 2-3个角色协作，充分讨论后决策
- **专家会诊**: 4个角色全员参与，用于关键决策点

## 🔄 角色切换机制

### 动态切换条件
- **任务复杂度变化**: 根据任务复杂度调整角色配置
- **阶段转换**: RIPER 不同阶段激活不同主导角色
- **问题类型**: 根据问题类型切换专业角色
- **用户需求**: 响应用户明确的角色需求

### 切换流程
1. **评估当前任务**: 分析任务特征和需求
2. **匹配最佳角色**: 根据任务特征匹配角色
3. **权重重新分配**: 调整角色协作权重
4. **激活新配置**: 启用新的角色配置
5. **验证效果**: 确认角色切换效果

## 📊 角色配置记录

### 当前激活状态
- **主导角色**: 分析师 (用于用户需求调研)
- **协作角色**: 架构师 (技术可行性支持)
- **权重分配**: 分析师 40%, 架构师 30%
- **激活时间**: 2025-01-23

### 历史配置记录
1. **初始化阶段** (2025-01-23)
   - 主导: 架构师 (项目结构设计)
   - 协作: 开发者 (文档模板创建)

2. **PromptX配置阶段** (2025-01-23)
   - 临时激活: product-manager (PromptX系统角色)
   - 状态: 已调整为 RIPER 内置角色

3. **Research阶段准备** (2025-01-23)
   - 主导: 分析师 (用户需求调研)
   - 协作: 架构师 (技术评估支持)

## 🎯 下一步角色规划

### Research 阶段角色配置
- **任务4: 用户需求调研** → 分析师主导 + 架构师协作
- **任务5: 竞品分析** → 分析师主导 + 开发者协作
- **任务6: 技术可行性评估** → 架构师主导 + 开发者协作

### Innovate 阶段角色配置
- **任务7: 智能路径算法设计** → 架构师主导 + 开发者协作
- **任务8: 角色协作机制优化** → 分析师主导 + 架构师协作
- **任务9: MCP工具集成方案** → 开发者主导 + 架构师协作

### Plan 阶段角色配置
- **任务10: 详细开发计划** → 架构师主导 + 开发者协作
- **任务11: 测试策略制定** → 测试者主导 + 开发者协作
- **任务12: 质量保证计划** → 测试者主导 + 架构师协作

## 📝 配置管理

### 配置文件位置
- **主配置**: `docs/memo/RIPER-ROLES-CONFIG.md` (本文件)
- **技术决策**: `docs/memo/TECH-DECISIONS.md` (ADR-006)
- **项目概览**: `docs/memo/PROJECT-OVERVIEW.md` (角色体系章节)

### 更新机制
- **定期评估**: 每个 RIPER 阶段结束后评估角色配置效果
- **动态调整**: 根据任务需求和用户反馈动态调整
- **版本管理**: 重要配置变更记录版本和变更原因
- **文档同步**: 确保相关文档的角色信息保持一致

---

**配置状态**: ✅ 已生效  
**最后更新**: 2025-01-23  
**配置者**: 产品经理 + 架构师  
**下次评估**: Research 阶段结束后
